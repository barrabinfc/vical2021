---
import { Markdown } from 'astro/components';
import BaseLayout from '../layouts/base.astro';

import {listProjects} from './projects';

let content = {
  title: 'Hello World',
  description: 'Index description',
  schema: 'article'
};
let projects = await listProjects();
---

<!DOCTYPE html>
<BaseLayout {content}>
  <article id="content">
    <section class="home">
      <div class="grid2">
        <div class="item highlight pad4">
          <div class="caption">
            Hi üëã<br/>
            I'm <strong>Vitor</strong><br/>
            I write software for the web
          </div>
        </div>
        <div class="item highlight2 pad4">
          <div class="caption">
            Hi üôè <br/>
            I'm <strong>Vitor</strong><br/>
            I write software for the web
          </div>
        </div>
        <div class="item decoration">
          <img alt="nada" src="/pictures/Dieffenbachia robusta.png" />
        </div>
      </div>
    </section>

    <section class="pad4">
      <h1>Projects</h1>
      <ul>
        {projects.slice(0, 3).map((project) => (
          <li>
            <h1>{project.name}</h1>
            <a href={project.abspath}>{project.abspath}</a>
            <p>{JSON.stringify(project.frontmatter,null,'\t')}</p>
          </li>
        ))}
      </ul>
      <!-- <Markdown>
        # Hello World ü•∞

        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Nascetur ridiculus mus mauris vitae ultricies leo. Risus nec feugiat in fermentum posuere. Sit amet tellus cras adipiscing enim. Convallis a cras semper auctor neque vitae tempus quam pellentesque. Bibendum enim facilisis gravida neque convallis. In dictum non consectetur a erat nam at lectus. Sed velit dignissim sodales ut eu. Viverra orci sagittis eu volutpat odio facilisis mauris. Amet purus gravida quis blandit turpis cursus in hac habitasse. Quam pellentesque nec nam aliquam sem et. In dictum non consectetur a erat. Ornare arcu odio ut sem nulla pharetra diam sit amet. Ultrices gravida dictum fusce ut placerat. Id faucibus nisl tincidunt eget nullam non nisi est. Scelerisque eleifend donec pretium vulputate sapien nec sagittis. Pretium aenean pharetra magna ac. Vitae semper quis lectus nulla at volutpat diam ut.

        Orci eu lobortis elementum nibh tellus. Nisi porta lorem mollis aliquam ut porttitor. Lectus urna duis convallis convallis tellus id interdum velit. Condimentum vitae sapien pellentesque habitant. Morbi tristique senectus et netus et malesuada fames ac. Morbi tincidunt augue interdum velit euismod in. Quis auctor elit sed vulputate. Arcu felis bibendum ut tristique et egestas quis. Venenatis tellus in metus vulputate eu scelerisque felis imperdiet proin. Velit sed ullamcorper morbi tincidunt ornare. Consequat id porta nibh venenatis cras sed. Sed risus ultricies tristique nulla aliquet enim. Turpis massa tincidunt dui ut. Aenean pharetra magna ac placerat. Suspendisse faucibus interdum posuere lorem ipsum dolor sit amet consectetur. Blandit cursus risus at ultrices mi tempus imperdiet. Magnis dis parturient montes nascetur ridiculus. Et egestas quis ipsum suspendisse ultrices gravida. At quis risus sed vulputate odio ut enim blandit volutpat.
      </Markdown> -->
    </section>
  </article>
</BaseLayout>

<style lang="scss" scoped>
@use "sass:math";
@use "public/styles/breakpoints" as bp;
@use "public/styles/grids" as grids;

#content {
  position: relative;
}

$fold: 100vh;
.home {
  width: 100%;
  height: $fold;
  overflow: hidden;
}

.grid2 {
  height: 100%;

  $gap: 0px;
  @include grids.grid(6, $gap);
  grid-template-rows: repeat(4, math.div( $fold, 4 ));

  :global(.highlight){
    grid-column: 4 / span 4;
    grid-row: 1 / span 3;

    display: flex;
    flex-direction: column;
    justify-content: flex-end;

    // background-color: var(--brand);
    // color: var(--text1-invert);

    .caption {
      font-family: var(--title-family);
      font-size: calc( var(--h1) * 1.1 );
      font-weight: 200;
      margin-bottom: 1em;
      // font-variation-settings: "wght" 200;
    }
  }
  :global(.highlight2) {
    grid-column: 4 / span 4;
    grid-row: 4;
  }
  :global(.decoration) {
    grid-column: 1 / span 3;
    grid-row: 1/ span 4;
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    justify-content: flex-end;

    > img {
      height: 100%;
    }
  }
}

.work-grid {
  @include grids.flexGrid(3);
}
</style>
